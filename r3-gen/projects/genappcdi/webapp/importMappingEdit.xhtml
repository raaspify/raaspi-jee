

<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
                             "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">





<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:fn="http://java.sun.com/jsp/jstl/functions"
                xmlns:pt="http://xmlns.jcp.org/jsf/passthrough"
                xmlns:p="http://primefaces.org/ui"
                template="layout/rtemplate.xhtml">
   <ui:remove>s:defaultAction removed, eqv p:defaultCommand
     s:hasRole removed replaced w true look into calling a method
     instead of page.xml use f:template,f:viewparam
   </ui:remove>
<f:metadata>
    <f:viewParam name="yrxxch5b1xhhxxhxxxxximportcsvA0xxuobxbxxxxxxxxxxxsid" value="#{yrxxch5b1xhhxxhxxxxximportcsvHome.yrxxch5b1xhhxxhxxxxximportcsvA0xxuobxbxxxxxxxxxxxsid}"/>
    <f:viewParam name="yrxxch5b1xhhxxhxxxxximportcsvFrom" value="#{yrxxch5b1xhhxxhxxxxximportcsvHome.yrxxch5b1xhhxxhxxxxximportcsvFrom}"/>
    <f:viewAction action="#{yrxxch5b1xhhxxhxxxxximportcsvHome.restrict()}" />
    <f:viewAction action="#{yrxxch5b1xhhxxhxxxxximportcsvHome.wire()}" />
</f:metadata>
<ui:define name="title">#{customIdentity.owner2} webpage to map #{messages['csv']} #{messages['data']}</ui:define>

<ui:define name="body">
<h:form id="yrxxch5b1xhhxxhxxxxximportcsv" styleClass="edit">
<h:outputStylesheet>

</h:outputStylesheet>
    <script type="text/javascript" src="./js/eval.js"></script>
    <script type="text/javascript" src="./js/fillValue.js"></script>
    <script type="text/javascript"> var jay='#{messages['Continue_with_zero_amount']}';var jay2='#{messages['use_offsetting_entry_button_first']}';</script>
    <script>
     function goBack(n) {
     window.history.go(n);return false;
     }
    </script>
	<p:toolbar height="26" itemSeparator="grid">
	  <p:toolbarGroup>
              <h:button id="tdone" image="./img/home_24.png"  alt="Cancel" value="Cancel" propagation="end"  rendered="#{!yrxxch5b1xhhxxhxxxxximportcsvHome.managed}" outcome="/home.xhtml" />
	  </p:toolbarGroup>
	  <p:toolbarGroup>
              <h:button id="tdoneh" image="./img/home_24.png"  alt="Home" value="Home" propagation="end"  rendered="#{yrxxch5b1xhhxxhxxxxximportcsvHome.managed}" outcome="/home.xhtml" />
              <h:outputText value="#{messages['Change']} #{messages['done']}-#{yrxxch5b1xhhxxhxxxxximportcsvHome.getCurrentTime()}"
                style="color:green;"
                rendered="#{yrxxch5b1xhhxxhxxxxximportcsvHome.changeDone}">
               <f:convertDateTime   type="time" />
              </h:outputText>
	  </p:toolbarGroup>
	  <p:toolbarGroup location="right">
              <h:outputText value="#{customIdentity.username}"/> 
              <h:outputText value="#{authenticator.currcaldates}"/> 
	  </p:toolbarGroup>
	  <p:toolbarGroup location="right">
		   <h:graphicImage id="Helpt" value="/img/help.gif" styleClass="pic" rendered="#{messages['ImportEditHelp']!='ImportEditHelp'}">
             <p:tooltip > <span style="white-space: nowrap"> <h:inputTextarea  cols="70" rows="10" readonly="true"  value="#{messages['CompanyEditHelp']}"/></span> </p:tooltip> 
             </h:graphicImage>
	  </p:toolbarGroup>
       <h:messages globalOnly="true" style = "color:red;margin:8px;" styleClass="message" id="globalMessages"/>
	</p:toolbar>

        <p:panel>


        <h:panelGrid columns="2">

            <f:facet name="header">#{messages['Create']} / #{messages['rebuilt']} #{messages['CSV']} #{messages['Template']} </f:facet>

        <ui:remove>
         <p:messages ajaxRendered="true"  />
        </ui:remove>
<ui:remove>
          <h:outputText value="" />
           <ui:decorate id="entityDecorationT" template="layout/edit.xhtml" >
            <ui:define name="label">#{messages['Import']} #{messages['for']} 
            </ui:define>
             <h:selectOneMenu styleClass="autoCompleteWidth50" 
                   rendered="#{!fn:containsIgnoreCase(request.getHeader('User-Agent'), 'Jayfox')}"
                   required="false"
                   value="#{yxxxch5a1xhhxxhxxxxxtruefalseList.selectedClass}"
             >   
               <f:selectItem itemValue="#{null}" itemLabel="" />
             <ui:remove>
 	       <f:selectItems value="#{yxxxch5a1xhhxxhxxxxxtruefalseList.getClassNames('import'}"   /> 
             </ui:remove>
             </h:selectOneMenu>
           </ui:decorate>

</ui:remove>

         </h:panelGrid>

<ui:remove>
        <h:panelGrid columns="12">
           <ui:decorate id="rowDecorationT" template="layout/edit.xhtml" >
            <ui:define name="label">#{messages['Csv']} #{messages['row']} 
            </ui:define>
             <h:selectOneMenu styleClass="autoCompleteWidth50" 
                   rendered="#{!fn:containsIgnoreCase(request.getHeader('User-Agent'), 'Jayfox')}"
                   required="false"
                    disabled="#{yrxxch5b1xhhxxhxxxxximportcsvHome.instance.a0xxuobxbxxxxxxxxxxxsid !=null?true:false}"
                    validator="#{yrxxch5b1xhhxxhxxxxximportcsvHome.validateKeyDuplicateRow}" 
                   value="#{yrxxch5b1xhhxxhxxxxximportcsvHome.instance.a2xxukcxbvxxxxxxxxxxrow}"
             >   

               <f:selectItem itemValue="#{null}" itemLabel="" />
               <f:selectItem itemValue="th" itemLabel="table col hdr" />
               <f:selectItem itemValue="01" itemLabel="01" />
               <f:selectItem itemValue="02" itemLabel="02" />
               <f:selectItem itemValue="03" itemLabel="03" />
               <f:selectItem itemValue="04" itemLabel="04" />
               <f:selectItem itemValue="05" itemLabel="05" />
               <f:selectItem itemValue="06" itemLabel="06" />
               <f:selectItem itemValue="07" itemLabel="07" />
               <f:selectItem itemValue="08" itemLabel="08" />
               <f:selectItem itemValue="09" itemLabel="09" />
               <f:selectItem itemValue="10" itemLabel="10" />
               <f:selectItem itemValue="11" itemLabel="11" />
               <f:selectItem itemValue="12" itemLabel="12" />
               <f:selectItem itemValue="13" itemLabel="13" />
               <f:selectItem itemValue="14" itemLabel="14" />
               <f:selectItem itemValue="15" itemLabel="15" />
               <f:selectItem itemValue="16" itemLabel="16" />
               <f:selectItem itemValue="17" itemLabel="17" />
               <f:selectItem itemValue="18" itemLabel="18" />
               <f:selectItem itemValue="19" itemLabel="19" />
               <f:selectItem itemValue="20" itemLabel="20" />
               <f:selectItem itemValue="21" itemLabel="21" />
               <f:selectItem itemValue="22" itemLabel="22" />
               <f:selectItem itemValue="23" itemLabel="23" />
               <f:selectItem itemValue="24" itemLabel="24" />
               <f:selectItem itemValue="25" itemLabel="25" />
               <f:selectItem itemValue="26" itemLabel="26" />
               <f:selectItem itemValue="27" itemLabel="27" />
               <f:selectItem itemValue="28" itemLabel="28" />
               <f:selectItem itemValue="29" itemLabel="28" />
               <f:selectItem itemValue="30" itemLabel="30" />
               <f:selectItem itemValue="31" itemLabel="31" />
               <f:selectItem itemValue="32" itemLabel="32" />
               <f:selectItem itemValue="33" itemLabel="33" />
               <f:selectItem itemValue="34" itemLabel="34" />
               <f:selectItem itemValue="35" itemLabel="35" />
               <f:selectItem itemValue="36" itemLabel="36" />
               <f:selectItem itemValue="37" itemLabel="37" />
               <f:selectItem itemValue="38" itemLabel="38" />
               <f:selectItem itemValue="39" itemLabel="39" />
               <f:selectItem itemValue="40" itemLabel="40" />
               <f:selectItem itemValue="41" itemLabel="41" />
               <f:selectItem itemValue="42" itemLabel="42" />
               <f:selectItem itemValue="43" itemLabel="43" />
               <f:selectItem itemValue="44" itemLabel="44" />
               <f:selectItem itemValue="45" itemLabel="45" />
               <f:selectItem itemValue="46" itemLabel="46" />
               <f:selectItem itemValue="47" itemLabel="47" />
               <f:selectItem itemValue="48" itemLabel="48" />
               <f:selectItem itemValue="49" itemLabel="49" />
               <f:selectItem itemValue="50" itemLabel="50" />
             </h:selectOneMenu>
           </ui:decorate>

           <ui:decorate id="importDecorationT" template="layout/edit.xhtml" >
            <ui:define name="label">#{messages['Column']} #{messages['number']} 
            </ui:define>
             <h:selectOneMenu styleClass="autoCompleteWidth50" 
                   rendered="#{!fn:containsIgnoreCase(request.getHeader('User-Agent'), 'Jayfox')}"
                   required="false"
                    validator="#{yrxxch5b1xhhxxhxxxxximportcsvHome.validateKeyDuplicateRow}" 
                   value="#{yrxxch5b1xhhxxhxxxxximportcsvHome.mailingText5}"
             >   
              <p:ajax  update="importDecorationT" bypassUpdates="false"/>

               <f:selectItem itemValue="#{null}" itemLabel="" />
               <f:selectItem itemValue="01" itemLabel="01" />
               <f:selectItem itemValue="02" itemLabel="02" />
               <f:selectItem itemValue="03" itemLabel="03" />
               <f:selectItem itemValue="04" itemLabel="04" />
               <f:selectItem itemValue="05" itemLabel="05" />
               <f:selectItem itemValue="06" itemLabel="06" />
               <f:selectItem itemValue="07" itemLabel="07" />
               <f:selectItem itemValue="08" itemLabel="08" />
               <f:selectItem itemValue="09" itemLabel="09" />
               <f:selectItem itemValue="10" itemLabel="10" />
               <f:selectItem itemValue="11" itemLabel="11" />
               <f:selectItem itemValue="12" itemLabel="12" />
               <f:selectItem itemValue="13" itemLabel="13" />
               <f:selectItem itemValue="14" itemLabel="14" />
               <f:selectItem itemValue="15" itemLabel="15" />
               <f:selectItem itemValue="16" itemLabel="16" />
               <f:selectItem itemValue="17" itemLabel="17" />
               <f:selectItem itemValue="18" itemLabel="18" />
               <f:selectItem itemValue="19" itemLabel="19" />
               <f:selectItem itemValue="20" itemLabel="20" />
               <f:selectItem itemValue="21" itemLabel="21" />
               <f:selectItem itemValue="22" itemLabel="22" />
               <f:selectItem itemValue="23" itemLabel="23" />
               <f:selectItem itemValue="24" itemLabel="24" />
               <f:selectItem itemValue="25" itemLabel="25" />
               <f:selectItem itemValue="26" itemLabel="26" />
               <f:selectItem itemValue="27" itemLabel="27" />
               <f:selectItem itemValue="28" itemLabel="28" />
               <f:selectItem itemValue="29" itemLabel="28" />
               <f:selectItem itemValue="30" itemLabel="30" />
               <f:selectItem itemValue="31" itemLabel="31" />
               <f:selectItem itemValue="32" itemLabel="32" />
               <f:selectItem itemValue="33" itemLabel="33" />
               <f:selectItem itemValue="34" itemLabel="34" />
               <f:selectItem itemValue="35" itemLabel="35" />
               <f:selectItem itemValue="36" itemLabel="36" />
               <f:selectItem itemValue="37" itemLabel="37" />
               <f:selectItem itemValue="38" itemLabel="38" />
               <f:selectItem itemValue="39" itemLabel="39" />
               <f:selectItem itemValue="40" itemLabel="40" />
               <f:selectItem itemValue="41" itemLabel="41" />
               <f:selectItem itemValue="42" itemLabel="42" />
               <f:selectItem itemValue="43" itemLabel="43" />
               <f:selectItem itemValue="44" itemLabel="44" />
               <f:selectItem itemValue="45" itemLabel="45" />
               <f:selectItem itemValue="46" itemLabel="46" />
               <f:selectItem itemValue="47" itemLabel="47" />
               <f:selectItem itemValue="48" itemLabel="48" />
               <f:selectItem itemValue="49" itemLabel="49" />
               <f:selectItem itemValue="50" itemLabel="50" />
             </h:selectOneMenu>
           </ui:decorate>

</h:panelGrid>
</ui:remove>

             <br/> 

        <h:panelGrid columns="18">


          <h:outputText value="" />
           <ui:decorate id="statusDecorationT" template="layout/edit.xhtml" >
            <ui:define name="label">#{messages['Map']} #{messages['to']} 
            </ui:define>
            <ui:fragment rendered="#{not empty yrxxch5b1xhhxxhxxxxximportcsvHome.instance.a1xxuxhrbvoxxxxxxxxxtablenm}">
             &nbsp;#{yrxxch5b1xhhxxhxxxxximportcsvHome.instance.a1xxuxhrbvoxxxxxxxxxtablenm}
            </ui:fragment>
             <h:selectOneMenu styleClass="autoCompleteWidth50" 
                   rendered="#{empty yrxxch5b1xhhxxhxxxxximportcsvHome.instance.a1xxuxhrbvoxxxxxxxxxtablenm}"
                   required="false"
                   value="#{yrxxch5b1xhhxxhxxxxximportcsvHome.mailingText2}"
             >   
               <f:selectItem itemValue="#{null}" itemLabel="" />
 	       <f:selectItems value="#{yxxxch5a1xhhxxhxxxxxtruefalseList.getClassNames('import')}"   /> 

             </h:selectOneMenu>

           </ui:decorate>








            <h:panelGroup id="b6xxutoxlhxxxxxxxxxxownerDecoration"  rendered="#{customIdentity.hasRole('SH') or customIdentity.hasRole('EH')?true:false}">
        <h:outputLabel  for="b6xxutoxlhxxxxxxxxxxowner" value="#{messages['Owner']}">

      </h:outputLabel>
         <h:inputText id="b6xxutoxlhxxxxxxxxxxowner" 

                           size="20"
                      maxlength="40"

                          value="#{yrxxch5b1xhhxxhxxxxximportcsvHome.instance.b6xxutoxlhxxxxxxxxxxowner}">

         </h:inputText>

            </h:panelGroup>


   </h:panelGrid>



        
            <div style="clear:both">
                <span class="required">*</span> 
                required fields
            </div>

            
                
<div class="actionButtons">
             <p:ajaxStatus name="buttonStatus" >
              <f:facet name="start">
               <h:graphicImage value="./img/ajax-loader16.gif" />
              </f:facet>
             </p:ajaxStatus>
    <ui:remove>removed 89 schedule because one schedule one detail, nov20 2018 added va after fixing report to show vendor</ui:remove>
                       <ui:remove>
                       may07 2018 allow record 2(shopify id/secret),3
                       disabled="true"
                       </ui:remove>

          
            <p:commandButton id="map" styleClass="#{!trexuq244xwwqqhxxxxxcuordersHome.managed?'button':'buttonMain'}" 
                          value="#{messages['Create']}/#{messages['Rebuild']} #{messages['CSV']} #{messages['Template']}" status="buttonStatus" render="@form"
                         action="#{yrxxch5b1xhhxxhxxxxximportcsvHome.mapCsvToPojo(yrxxch5b1xhhxxhxxxxximportcsvHome.mailingText2,'csv',1,4096000)}"
                       rendered="#{empty yrxxch5b1xhhxxhxxxxximportcsvHome.instance.a1xxuxhrbvoxxxxxxxxxtablenm}">
                  <p:tooltip > <span style="white-space: nowrap"> <h:outputText value="#{messages['One']} #{messages['template']} #{messages['needed']} #{messages['per']} #{messages['table']} #{messages['and']} #{messages['can']} #{messages['be']} #{messages['rebuilt']},  #{messages['holds']} #{messages['mapping']} #{messages['header']} #{messages['and']} #{messages['subset']} #{messages['of']} #{messages['csv']} #{messages['data']} #{messages['to']} #{messages['help']} #{messages['mapping']}"/></span> </p:tooltip> 
            </p:commandButton>
                        			  


            <h:button id="mapU" styleClass="buttonMain" 
                   value="#{messages['Map']} #{messages['columns']}"
             includePageParams="false" 
                    outcome="/columnMappingEdit.xhtml"
                       rendered="#{yrxxch5b1xhhxxhxxxxximportcsvHome.managed}">
                <f:param name="yrxxch5b1xhhxxhxxxxximportcsvA0xxuobxbxxxxxxxxxxxsid"
                        value="#{yrxxch5b1xhhxxhxxxxximportcsvHome.instance.a0xxuobxbxxxxxxxxxxxsid}"/>
            </h:button>


            <p:commandButton id="update2" 
                          value="#{messages['More_Updates']}" status="buttonStatus" render="@form"
                         action="#{yrxxch5b1xhhxxhxxxxximportcsvHome.update()}"
                       rendered="#{yrxxch5b1xhhxxhxxxxximportcsvHome.managed and yrxxch5b1xhhxxhxxxxximportcsvHome.entityUpdated}"/>
                        			  
            <h:commandButton id="delete" 
                          value="#{messages['delete']}" 
                         action="#{yrxxch5b1xhhxxhxxxxximportcsvHome.remove()}"
                       rendered="#{yrxxch5b1xhhxxhxxxxximportcsvHome.managed and !yrxxch5b1xhhxxhxxxxximportcsvHome.entityDeleted}"/>

            <h:button id="new" styleClass="buttonMain" 
                   value="New"
             propagation="begin"
             includePageParams="false" 
                    outcome="/importcsvEdit.xhtml"
                       rendered="#{yrxxch5b1xhhxxhxxxxximportcsvHome.managed}"/>
                 

            <p:hotkey  onkeydown="PF('save').click();return false;" preventDefault="true" enabledInInput="true" key="return">
            </p:hotkey>
            <p:hotkey  onkeydown="PF('update').click();return false;" preventDefault="true" enabledInInput="true" key="ctrl+u">
            </p:hotkey>




            <f:param name="reportName" value="#yrxxch5b1xhhxxhxxxxximportcsvList.reportName}"/>
            <f:param name="displayAs" value="#yrxxch5b1xhhxxhxxxxximportcsvList.displayAs}" /> 
            <h:button outcome="/importcsvList.xhtml" id="list" styleClass="buttonMain" 
              propagation="none"
                 value="#{messages['List']} #{messages['Csv']} #{messages['rows']}">
            </h:button>    

            <h:button id="done" 
                   value="#{messages['Done']}"
             propagation="end"
                    outcome="/#{empty yrxxch5b1xhhxxhxxxxximportcsvHome.yrxxch5b1xhhxxhxxxxximportcsvFrom ? 'home' : yrxxch5b1xhhxxhxxxxximportcsvHome.yrxxch5b1xhhxxhxxxxximportcsvFrom}.xhtml"

                rendered="#{yrxxch5b1xhhxxhxxxxximportcsvHome.managed or yrxxch5b1xhhxxhxxxxximportcsvHome.entityDeleted}"/>
            
            <h:button id="cancel" 
                   value="#{messages['Cancel']}"
             propagation="end"
                    outcome="/#{empty yrxxch5b1xhhxxhxxxxximportcsvHome.yrxxch5b1xhhxxhxxxxximportcsvFrom ? 'home' : yrxxch5b1xhhxxhxxxxximportcsvHome.yrxxch5b1xhhxxhxxxxximportcsvFrom}.xhtml"
                rendered="#{!yrxxch5b1xhhxxhxxxxximportcsvHome.managed and !yrxxch5b1xhhxxhxxxxximportcsvHome.entityDeleted}"/>

            <br></br><h:outputText value="#{messages['One']} #{messages['template']} #{messages['needed']} #{messages['per']} #{messages['table']} #{messages['and']} #{messages['can']} #{messages['be']} #{messages['rebuilt']},  #{messages['holds']} #{messages['mapping']} #{messages['header']} #{messages['and']} #{messages['subset']} #{messages['of']} #{messages['csv']} #{messages['data']} #{messages['to']} #{messages['help']} #{messages['mapping']}"/>
            <br></br><br></br>
            <h:outputText value="#{messages['Step1']}: #{messages['Use']} #{messages['Click']}+ #{messages['to']} #{messages['Upload']} #{messages['CSV']} #{messages['file']} #{messages['content']} #{messages['as']} #{messages['text']} #{messages['data']} (#{messages['select']} #{messages['or']} #{messages['enter']} #{messages['table']} #{messages['name']} #{messages['as']} #{messages['Fromkey']}, #{messages['select']} #{messages['qualifier']} #{messages['as']} #{messages['CSV']}) "/>
            &nbsp;<h:link value="#{messages['Step1']}"  outcome="/clobdataEdit.xhtml" target="_blank"/>
            <br></br>
            #{messages['Step2']}: #{messages['Create']} / #{messages['rebuilt']} #{messages['CSV']} #{messages['Template']} (#{messages['holds']} #{messages['mapping']} #{messages['header']} #{messages['and']} #{messages['subset']} #{messages['of']} #{messages['csv']} #{messages['data']} #{messages['to']} #{messages['help']} #{messages['mapping']}) 
            &nbsp;<h:link value="#{messages['Step2']}"  outcome="/importMappingEdit.xhtml" target="_blank"/>
            <br></br>
            #{messages['Step3']}: #{messages['Map']} #{messages['header']} #{messages['column']} #{messages['value']} #{messages['to']} #{messages['table']} #{messages['field']} (#{messages['use']} #{messages['CSV']} #{messages['data']} #{messages['shown']} #{messages['as']} #{messages['a']} #{messages['guide']}) 
            &nbsp;<h:link value="#{messages['Step3']}"  outcome="/columnMappingEdit.xhtml" target="_blank"/>
            <br></br>
            #{messages['FinalStep']}: #{messages['Import']} #{messages['using']} #{messages['mapping']} (#{messages['copies']} #{messages['csv']} #{messages['data']} #{messages['as']} #{messages['table']} #{messages['rows']} #{messages['using']} #{messages['column']} #{messages['mapping']})
            &nbsp;<h:link value="#{messages['FinalStep']}"  outcome="/importUsingMapping.xhtml" target="_blank"/>




</div>
</p:panel>
       <p:messages ajaxRendered="true"  />


<p:panel>


</p:panel>
</h:form>

</ui:define>

</ui:composition>


